/*
popModal - 1.18 [05.08.15]
Author: vadimsva
Github: https://github.com/vadimsva/popModal
*/
(function(a){a.fn.popModal=function(b){function f(){t=!0;var a=e.parent().css("position");if("absolute"!=a||"fixed"!=a)a=g.find(".popModal_content"),270>a.width()&&20>=a.height()&&0===g.find(".popModal_footer").length&&(t=!1)}function m(){function c(a){var e=Math.max(w,x,y);return("bottomLeft"==a?0<x:"bottomRight"==a?0<w:0<y)?a:0<x&&x==e?"bottomLeft":0<w&&w==e?"bottomRight":0<y&&y==e?"bottomCenter":a}if(h.inline)var b=e.position().left,m=e.position().top;else b=e.offset().left,m=e.offset().top;var d=
parseInt(e.css("marginLeft"));parseInt(e.css("paddingLeft"));var n=parseInt(e.css("marginTop")),f=e.outerHeight(),k=e.outerWidth(),l=parseInt(g.css("maxWidth")),q=parseInt(g.css("minWidth")),r=g.outerHeight();t?isNaN(l)&&(l=300):(isNaN(q)&&(q=180),l=q);g.css({width:l+"px"});var p,u=e.offset().left,z=a(window).width()-e.offset().left-k,A=e.offset().top,q=u-10-l,w=k+u-l,B=z-10-l,x=k+z-l,y=Math.min(k/2+z-l/2,k/2+u-l/2),u=A-r/2;/^bottom/.test(h.placement)?p=c(h.placement):/^left/.test(h.placement)?p=
0<q?"leftCenter"==h.placement&&0<u?"leftCenter":"leftTop":c("bottomLeft"):/^right/.test(h.placement)&&(p=0<B?"rightCenter"==h.placement&&0<u?"rightCenter":"rightTop":c("bottomRight"));g.removeAttr("class").addClass("popModal animated "+p);switch(p){case "bottomLeft":g.css({top:m+n+f+10+"px",left:b+d+"px"}).addClass("fadeInBottom");break;case "bottomRight":g.css({top:m+n+f+10+"px",left:b+d+k-l+"px"}).addClass("fadeInBottom");break;case "bottomCenter":g.css({top:m+n+f+10+"px",left:b+d+(k-l)/2+"px"}).addClass("fadeInBottom");
break;case "leftTop":g.css({top:m+n+"px",left:b+d-l-10+"px"}).addClass("fadeInLeft");break;case "rightTop":g.css({top:m+n+"px",left:b+d+k+10+"px"}).addClass("fadeInRight");break;case "leftCenter":g.css({top:m+n+f/2-r/2+"px",left:b+d-l-10+"px"}).addClass("fadeInLeft");break;case "rightCenter":g.css({top:m+n+f/2-r/2+"px",left:b+d+k+10+"px"}).addClass("fadeInRight")}}function c(){g=a(".popModal");g.length&&(d(),l||(l=g.css("animationDuration"),l=void 0!==l?1E3*l.replace("s",""):0),setTimeout(function(){a(".popModal_source").replaceWith(a(".popModal_content").children());
g.remove();a("html.popModalOpen").off(".popModalEvent").removeClass("popModalOpen")},l))}function d(){var a=g.attr("class"),c=a.replace("fadeIn","fadeOut");g.removeClass(a).addClass(c)}var e=a(this),g,n="",t=!0,q="",k,h,l,r,p={init:function(b){h=a.extend({html:"",placement:"bottomLeft",showCloseBut:!0,onDocumentClickClose:!0,onDocumentClickClosePrevent:"",overflowContent:!1,inline:!0,beforeLoadingContent:"Please, wait...",onOkBut:function(){return!0},onCancelBut:function(){},onLoad:function(){},onClose:function(){}},
b);if(0!==a("body").find(".popModal").length&&a("body").find(".popModal").attr("data-popmodal_id")==e.attr("data-popmodal_id"))c();else{a("html.popModalOpen").off(".popModalEvent").removeClass("popModalOpen");a(".popModal_source").replaceWith(a(".popModal_content").children());a(".popModal").remove();h.showCloseBut&&(q=a('<button type="button" class="close">&times;</button>'));"fixed"==e.css("position")&&(n="position:fixed;");k=h.overflowContent?"popModal_contentOverflow":"";r=(new Date).getMilliseconds();
e.attr("data-popmodal_id",r);b=a('<div class="popModal animated" style="'+n+'" data-popmodal_id="'+r+'"></div>');var d=a('<div class="popModal_content '+k+'"></div>');b.append(q,d);a.isFunction(h.html)?(d.append(h.beforeLoadingContent),h.html(function(c){d.empty().append(c);g=a(".popModal");t=!0;m()})):("object"==a.type(h.html)&&h.html.after(a('<div class="popModal_source"></div>')),d.append(h.html));500>=a(window).width()&&(h.inline=!0);h.inline?e.after(b):a("body").append(b);g=a(".popModal");(b=
g.find(".popModal_footer"))&&g.find(".popModal_content").css({marginBottom:b.outerHeight()+"px"});a.isFunction(h.html)||a.type(h.html);if(h.onLoad&&a.isFunction(h.onLoad))h.onLoad();g.on("destroyed",function(){if(h.onClose&&a.isFunction(h.onClose))h.onClose()});f();m();if(h.onDocumentClickClose)a("html").on("click.popModalEvent",function(b){a(this).addClass("popModalOpen");g.is(":hidden")&&c();var d=a(b.target);d.parents().andSelf().is(".popModal")||d.parents().andSelf().is(e)||(b=parseInt(d.parents().filter(function(){return"auto"!==
a(this).css("zIndex")}).first().css("zIndex")),isNaN(b)&&(b=0),""!==h.onDocumentClickClosePrevent&&d.is(h.onDocumentClickClosePrevent)&&(b=9999),d=d.css("zIndex"),"auto"==d&&(d=0),b<d&&(b=d),b<=g.css("zIndex")&&c())});a(window).resize(function(){m()});g.find(".close").on("click",function(){c();a(this).off("click")});g.find('[data-popmodal-but="close"]').on("click",function(){c();a(this).off("click")});g.find('[data-popmodal-but="ok"]').on("click",function(b){var e;h.onOkBut&&a.isFunction(h.onOkBut)&&
(e=h.onOkBut(b));!1!==e&&c();a(this).off("click")});g.find('[data-popmodal-but="cancel"]').on("click",function(){if(h.onCancelBut&&a.isFunction(h.onCancelBut))h.onCancelBut();c();a(this).off("click")});a("html").on("keydown.popModalEvent",function(a){27==a.keyCode&&c()})}return g},hide:function(){c()}};if(p[b])return p[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return p.init.apply(this,arguments)};a("* [data-popmodal-bind]").bind("click",function(){var b=a(this).attr("data-popmodal-bind"),
b={html:a(b)};void 0!==a(this).attr("data-placement")&&(b.placement=a(this).attr("data-placement"));void 0!==a(this).attr("data-showclose-but")&&(b.showCloseBut=/^true$/i.test(a(this).attr("data-showclose-but")));void 0!==a(this).attr("data-overflowcontent")&&(b.overflowContent=/^false$/i.test(a(this).attr("data-overflowcontent")));void 0!==a(this).attr("data-ondocumentclick-close")&&(b.onDocumentClickClose=/^true$/i.test(a(this).attr("data-ondocumentclick-close")));void 0!==a(this).attr("data-ondocumentclick-close-prevent")&&
(b.onDocumentClickClosePrevent=a(this).attr("data-ondocumentclick-close-prevent"));void 0!==a(this).attr("data-inline")&&(b.inline=/^true$/i.test(a(this).attr("data-inline")));void 0!==a(this).attr("data-beforeloading-content")&&(b.beforeLoadingContent=a(this).attr("data-beforeloading-content"));a(this).popModal(b)});a.event.special.destroyed={remove:function(a){a.handler&&a.handler()}}})(jQuery);
(function(a){a.fn.notifyModal=function(b){function f(){var c=a(".notifyModal");c.removeClass("open");setTimeout(function(){c.remove();-1!=e.duration&&clearTimeout(notifDur);if(e.onClose&&a.isFunction(e.onClose))e.onClose()},g)}var m=a(this),c,d="",e,g,n={init:function(b){e=a.extend({duration:2500,placement:"center",type:"notify",overlay:!0,onClose:function(){}},b);e.overlay&&(d="overlay");a(".notifyModal").remove();b=a('<div class="notifyModal '+e.placement+" "+d+" "+e.type+'"></div>');var n=a('<div class="notifyModal_content"></div>'),
k=a('<button type="button" class="close">&times;</button>');m=void 0===m[0]?m.selector:m[0].innerHTML;n.append(k,m);b.append(n);a("body").append(b);c=a(".notifyModal");g||(g=c.css("transitionDuration"),g=void 0!==g?1E3*g.replace("s",""):0);c.addClass("open");c.click(function(){f()});-1!=e.duration&&(notifDur=setTimeout(f,e.duration))},hide:function(){f()}};a("html").keydown(function(a){27==a.keyCode&&f()});if(n[b])return n[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof b||
!b)return n.init.apply(this,arguments)};a("* [data-notifymodal-bind]").bind("click",function(){var b=a(this).attr("data-notifymodal-bind"),f={};void 0!==a(this).attr("data-duration")&&(f.duration=parseInt(a(this).attr("data-duration")));void 0!==a(this).attr("data-placement")&&(f.placement=a(this).attr("data-placement"));void 0!==a(this).attr("data-ontop")&&(f.onTop=/^true$/i.test(a(this).attr("data-ontop")));a(b).notifyModal(f)})})(jQuery);
(function(a){a.fn.hintModal=function(b){a(".hintModal").off();var f={init:function(){function b(c,d){var e,g=c.attr("class");e=c.outerWidth();var n=d.outerWidth(),m=c.offset().left,f=a(window).width()-c.offset().left-e,k=e+m-n,h=e+f-n,l=Math.min(e/2+f-n/2,e/2+m-n/2);e=c.hasClass("bottomLeft")?"bottomLeft":c.hasClass("bottomCenter")?"bottomCenter":c.hasClass("bottomRight")?"bottomRight":"bottomLeft";void 0===c.data("placement")&&c.data("placement",e);c.removeAttr("class").addClass(g+" "+function(a){var c=
Math.max(k,h,l);return("bottomLeft"==a?0<h:"bottomRight"==a?0<k:0<l)?a:0<h&&h==c?"bottomLeft":0<k&&k==c?"bottomRight":0<l&&l==c?"bottomCenter":a}(c.data("placement")))}a(this).on("mouseenter",function(){var c=a(this).find("> .hintModal_container");1<c[0].textContent.length&&(c.addClass("animated fadeInBottom"),b(a(this),c))});a(this).on("mouseleave",function(){var c=a(this).find("> .hintModal_container");1<c[0].textContent.length&&c.removeClass("animated fadeInBottom")})}};if(f[b])return f[b].apply(this,
Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return f.init.apply(this,arguments)};a(".hintModal").hintModal()})(jQuery);
(function(a){a.fn.dialogModal=function(b){function f(){var c=a(".dialogModal");c.removeClass("open");setTimeout(function(){c.remove();a("body").removeClass("dialogModalOpen").css({paddingRight:""});a("html.dialogModalOpen").off(".dialogModalEvent").removeClass("dialogModalOpen");c.find(".dialogPrev").off("click");c.find(".dialogNext").off("click")},e)}var m=a(this),c,d,e,g={init:function(b){function g(){c.find('[data-dialogmodal-but="close"]').on("click",function(){f();a(this).off("click")});c.find('[data-dialogmodal-but="ok"]').on("click",
function(c){var b;d.onOkBut&&a.isFunction(d.onOkBut)&&(b=d.onOkBut(c));!1!==b&&f();a(this).off("click")});c.find('[data-dialogmodal-but="cancel"]').on("click",function(){if(d.onCancelBut&&a.isFunction(d.onCancelBut))d.onCancelBut();f();a(this).off("click")});c.find('[data-dialogmodal-but="prev"]').on("click",function(){c.find(".dialogPrev").click()});c.find('[data-dialogmodal-but="next"]').on("click",function(){c.find(".dialogNext").click()})}function q(){p.empty().append(m[k].innerHTML);r.find("span").html(m.find(".dialogModal_header")[k].innerHTML);
g();if(d.onChange&&a.isFunction(d.onChange))d.onChange(c,k+1)}d=a.extend({topOffset:0,onOkBut:function(){return!0},onCancelBut:function(){},onLoad:function(){},onClose:function(){},onChange:function(){}},b);a("html.dialogModalOpen").off(".dialogModalEvent").removeClass("dialogModalOpen");a(".dialogModal .dialogPrev, .dialogModal .dialogNext").off("click");a(".dialogModal").remove();var k=0,h=m.length-1;b=a('<div class="dialogModal" style="top:'+d.topOffset+'px"></div>');var l=a('<div class="dialogModal_top animated"></div>'),
r=a('<div class="dialogModal_header"></div>'),p=a('<div class="dialogModal_body animated"></div>'),v=a('<button type="button" class="close">&times;</button>');b.append(l,p);l.append(r);r.append(v);p.append(m[k].innerHTML);0<h&&r.append(a('<div class="dialogNext">&rsaquo;</div><div class="dialogPrev notactive">&lsaquo;</div>'));r.append("<span>"+m.find(".dialogModal_header")[k].innerHTML+"</span>");a("body").append(b).addClass("dialogModalOpen");b=b.outerWidth()-b[0].scrollWidth;l.css({right:b+"px"});
c=a(".dialogModal");e||(e=c.css("transitionDuration"),e=void 0!==e?1E3*e.replace("s",""):0);if(d.onLoad&&a.isFunction(d.onLoad))d.onLoad(c,k+1);c.on("destroyed",function(){if(d.onClose&&a.isFunction(d.onClose))d.onClose()});c.addClass("open");setTimeout(function(){l.addClass("fadeInTopBig");p.addClass("fadeInTopBig")},e+100);g();c.find(".dialogPrev").on("click",function(){0<k&&(--k,k<h&&c.find(".dialogNext").removeClass("notactive"),0===k&&c.find(".dialogPrev").addClass("notactive"),q())});c.find(".dialogNext").on("click",
function(){k<h&&(++k,0<k&&c.find(".dialogPrev").removeClass("notactive"),k==h&&c.find(".dialogNext").addClass("notactive"),q())});c.find(".close").on("click",function(){f();a(this).off("click")});a("html").on("keydown.dialogModalEvent",function(a){27==a.keyCode?f():37==a.keyCode?c.find(".dialogPrev").click():39==a.keyCode&&c.find(".dialogNext").click()})},hide:function(){f()}};if(g[b])return g[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return g.init.apply(this,
arguments)};a("* [data-dialogmodal-bind]").bind("click",function(){var b=a(this).attr("data-dialogmodal-bind"),f={};void 0!==a(this).attr("data-topoffset")&&(f.topOffset=a(this).attr("data-topoffset"));a(b).dialogModal(f)});a.event.special.destroyed={remove:function(a){a.handler&&a.handler()}}})(jQuery);
(function(a){a.fn.titleModal=function(b){a(".titleModal").off();var f={init:function(){var b,c,d=a(".titleModal");d.on("mouseenter",function(){b=a(this);var e;if(void 0!==b.attr("title")||"ellipsis"==b.css("textOverflow")||"clip"==b.css("textOverflow")){e=void 0!==b.attr("title")?b.attr("title"):b.text();b.removeAttr("title");b.attr("data-title",e);var d=a('<div class="titleModal_container animated"></div>');c=a(".titleModal_container");var f=b.attr("data-placement");void 0===f&&(f="bottom");c&&c.remove();
b.append(d.append(e));e=f;c=a(".titleModal_container");var t=b.css("marginLeft"),q=b.css("marginTop"),k=b.css("marginBottom"),h=b.outerHeight(),l=b.outerWidth(),r=c.css("marginTop"),p=c.outerWidth(),v=c.outerHeight();"fixed"==b.css("position")||"absolute"==b.css("position")?f=d=0:(d=b.position().left,f=b.position().top);switch(e){case "bottom":c.css({marginTop:parseInt(r)-parseInt(k)+"px",left:d+parseInt(t)+(l-p)/2+"px"}).addClass("fadeInBottom");break;case "top":c.css({top:f+parseInt(q)-v+"px",left:d+
parseInt(t)+(l-p)/2+"px"}).addClass("top fadeInTop");break;case "left":c.css({top:f+parseInt(q)+h/2-v/2+"px",left:d+parseInt(t)-p-10+"px"}).addClass("left fadeInLeft");break;case "right":c.css({top:f+parseInt(q)+h/2-v/2+"px",left:d+parseInt(t)+l+10+"px"}).addClass("right fadeInRight")}}});d.on("mouseleave",function(){b=a(this);var d;if(void 0!==b.attr("data-title")){d=b.attr("data-title");b.removeAttr("data-title");b.attr("title",d);d=c.attr("class");var f=d.replace("fadeIn","fadeOut");c.removeClass(d).addClass(f);
c.remove()}})}};if(f[b])return f[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return f.init.apply(this,arguments)};a(".titleModal").titleModal()})(jQuery);
(function(a){a.fn.confirmModal=function(b){function f(){var b=a(".confirmModal");b.removeClass("open");setTimeout(function(){b.remove();a("body").removeClass("confirmModalOpen").css({paddingRight:""});a("html.confirmModalOpen").off(".confirmModalEvent").removeClass("confirmModalOpen")},e)}var m=a(this),c,d,e,g={init:function(b){d=a.extend({topOffset:0,onOkBut:function(){return!0},onCancelBut:function(){},onLoad:function(){},onClose:function(){}},b);a("html.confirmModalOpen").off(".confirmModalEvent").removeClass("confirmModalOpen");
a(".confirmModal").remove();b=a('<div class="confirmModal" style="top:'+d.topOffset+'px"></div>');var g=a('<div class="confirmModal_body animated"></div>');b.append(g);g.append(m[0].innerHTML);a("body").append(b).addClass("confirmModalOpen");c=a(".confirmModal");e||(e=c.css("transitionDuration"),e=void 0!==e?1E3*e.replace("s",""):0);if(d.onLoad&&a.isFunction(d.onLoad))d.onLoad();c.on("destroyed",function(){if(d.onClose&&a.isFunction(d.onClose))d.onClose()});c.addClass("open");setTimeout(function(){g.addClass("fadeInTopBig")},
e+100);(function(){c.find('[data-confirmmodal-but="close"]').on("click",function(){f();a(this).off("click")});c.find('[data-confirmmodal-but="ok"]').on("click",function(b){var c;d.onOkBut&&a.isFunction(d.onOkBut)&&(c=d.onOkBut(b));!1!==c&&f();a(this).off("click")});c.find('[data-confirmmodal-but="cancel"]').on("click",function(){if(d.onCancelBut&&a.isFunction(d.onCancelBut))d.onCancelBut();f();a(this).off("click")})})()},hide:function(){f()}};if(g[b])return g[b].apply(this,Array.prototype.slice.call(arguments,
1));if("object"===typeof b||!b)return g.init.apply(this,arguments)};a("* [data-confirmmodal-bind]").bind("click",function(){var b=a(this).attr("data-confirmmodal-bind"),f={};void 0!==a(this).attr("data-topoffset")&&(f.topOffset=a(this).attr("data-topoffset"));a(b).confirmModal(f)});a.event.special.destroyed={remove:function(a){a.handler&&a.handler()}}})(jQuery);
